<h3>Dungeon</h3>

<div class="columnsContainer">
    <div class="leftColumn">
        <select #selectHero 
                *ngIf="guild" 
                [disabled]="dungeonStarted" 
                [ngModel]="guild.heroes" 
                (change)="setHero($event.target.value)">
            <option *ngFor="#hero of guild.heroes" [value]="hero.id">{{hero.name}}</option>
        </select>

        <select #selectDungeon [disabled]="dungeonStarted" [ngModel]="dungeons" (change)="setDungeon($event.target.value)">
            <option *ngFor="#dungeon of dungeons" [value]="dungeon.id">{{dungeon.name}}</option>
        </select>
        <div>Send 
             <span *ngIf="selectedHero" > 
                 {{selectedHero.name}}</span>  
                 into the dungeon!
        </div>
        <div>
        <button (click)="startDungeon()">Go into dungeon</button>
        </div>
        <br>
        
        <div *ngIf="enterDungeonError">Problem with heading into the dungeon:
            <div *ngIf="heroUnselected">Hero not selected.</div>
            <div *ngIf="selectedHeroIsDead">{{selectedHero.name}} is dead.</div>
            <div *ngIf="dungeonUnselected">Dungeon not selected.</div>
        </div>
    </div>  
    
    <div class="rightColumn">
        Fight til 10% (need to change this to selectable rule)
        
        <br>
        Monsters Fought:
        <ul>
            <li *ngFor="#monster of monstersFought">
                Fought: {{monster}}.
            </li>

        </ul>
        <br>
        Monsterlist:
        <ul>
            <li *ngFor="#monster of monsters">
                Monster: ({{monster.id}}) [lvl{{monster.level}}] {{monster.name}} - {{monster.hitPoints}}/ {{monster.maxHitPoints}} 
            </li>

        </ul>
    </div>
    
    <div class="leftColumn">
        <div *ngIf="dungeonStarted">Dungeon Entered</div>
        <div *ngIf="activeMonster">
            <div>Encountered: {{activeMonster.name}} (level {{activeMonster.level}}) </div>
            <div><label>id: </label>{{activeMonster.id}}</div>
        </div>
        <!--Fight Commentary text:-->
        <fight-component #fightComponent></fight-component>
        <div *ngIf="selectedHeroIsDead">{{selectedHero.name}} has died.</div>
        <div *ngIf="fightResult">
            <div *ngIf="fightResult.heroFled">{{selectedHero.name}} has fled the dungeon.</div>
        </div>
    </div>
</div>